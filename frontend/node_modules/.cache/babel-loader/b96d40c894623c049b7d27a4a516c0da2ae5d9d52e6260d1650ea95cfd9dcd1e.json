{"ast":null,"code":"import _slicedToArray from\"/Users/Zainab/Desktop/MicroservicesLab/CRUDCourses/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import PageError from'./errorPages/PageError';import Loading from'./loading/Loading';import useFetch from'../hooks/useFetch';import CardList from'./CardList';import NewCourseForm from'./NewCourseForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function HomePage(){var _useState=useState('allCourses'),_useState2=_slicedToArray(_useState,2),field=_useState2[0],setField=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),url=_useState6[0],setUrl=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),imgUrl=_useState8[0],setImgUrl=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),id=_useState10[0],setId=_useState10[1];var queryParams={id:\"\".concat(id),CourseName:\"\".concat(title),CourseURL:\"\".concat(url),ImageURL:\"\".concat(imgUrl)};// Initializing API Call with a useFetch function\nvar _useFetch=useFetch(field,JSON.stringify(queryParams)),courseData=_useFetch.data,callSuccess=_useFetch.success,callLoading=_useFetch.loading;console.log(callLoading);// Function to re-update GraphQL query parameters fetch list of courses\n// when either a course had been added, edited, or deleted\nuseEffect(function(){if(!callLoading&&field!=='allCourses'){setField('allCourses');setTitle('');setUrl('');setImgUrl('');setId('');}},[callLoading]);if(callLoading){return/*#__PURE__*/_jsx(Loading,{});}if(!callSuccess){if(!courseData.success){console.error(\"The following errors were encountered:\\nError -> \".concat(courseData.error,\"\\n\"));return/*#__PURE__*/_jsx(PageError,{errorMessage:\"The following errors were encountered:\\nError -> \".concat(courseData.error,\"\\n\")});}return/*#__PURE__*/_jsx(PageError,{errorMessage:\"Oops! Something went wrong\"});}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Col,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Row,{style:{paddingTop:'10px'},children:/*#__PURE__*/_jsx(\"h1\",{className:\"header1-design\",children:\"Educative Courses List\"})}),/*#__PURE__*/_jsx(Row,{style:{paddingTop:'20px',paddingBottom:'20px'},children:/*#__PURE__*/_jsx(CardList,{data:courseData,type:\"course\",setField:setField,setTitle:setTitle,setUrl:setUrl,setImgUrl:setImgUrl,setId:setId})}),/*#__PURE__*/_jsx(\"hr\",{style:{color:'#ffffff'}}),/*#__PURE__*/_jsx(Row,{style:{paddingTop:'10px'},children:/*#__PURE__*/_jsx(\"h1\",{className:\"header1-design\",children:\"Add a Course\"})}),/*#__PURE__*/_jsx(Row,{style:{paddingTop:'20px'},children:/*#__PURE__*/_jsx(NewCourseForm,{setField:setField,setTitle:setTitle,setUrl:setUrl,setImgUrl:setImgUrl,setId:setId})})]})});}","map":{"version":3,"names":["React","useEffect","useState","Container","Row","Col","PageError","Loading","useFetch","CardList","NewCourseForm","jsx","_jsx","jsxs","_jsxs","HomePage","_useState","_useState2","_slicedToArray","field","setField","_useState3","_useState4","title","setTitle","_useState5","_useState6","url","setUrl","_useState7","_useState8","imgUrl","setImgUrl","_useState9","_useState10","id","setId","queryParams","concat","CourseName","CourseURL","ImageURL","_useFetch","JSON","stringify","courseData","data","callSuccess","success","callLoading","loading","console","log","error","errorMessage","children","className","style","paddingTop","paddingBottom","type","color"],"sources":["/Users/Zainab/Desktop/MicroservicesLab/CRUDCourses/frontend/src/components/HomePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport PageError from './errorPages/PageError';\nimport Loading from './loading/Loading';\nimport useFetch from '../hooks/useFetch';\nimport CardList from './CardList';\nimport NewCourseForm from './NewCourseForm';\n\nexport default function HomePage() {\n  const [field, setField] = useState('allCourses');\n  const [title, setTitle] = useState('');\n  const [url, setUrl] = useState('');\n  const [imgUrl, setImgUrl] = useState('');\n  const [id, setId] = useState('');\n\n  const queryParams = {\n    id: `${id}`,\n    CourseName: `${title}`,\n    CourseURL:  `${url}`,\n    ImageURL: `${imgUrl}`,\n  };\n\n  // Initializing API Call with a useFetch function\n  const {\n    data: courseData,\n    success: callSuccess,\n    loading: callLoading,\n  } = useFetch(\n    field,\n    JSON.stringify(queryParams),\n  );\n\n  console.log(callLoading)\n\n  // Function to re-update GraphQL query parameters fetch list of courses\n  // when either a course had been added, edited, or deleted\n  useEffect(() => {\n    if (!callLoading && field !== 'allCourses') {\n      setField('allCourses');\n      setTitle('');\n      setUrl('');\n      setImgUrl('');\n      setId('');\n    }\n  }, [callLoading]);\n\n  if (callLoading) {\n    return (\n      <Loading />\n    );\n  }\n\n  if (!(callSuccess)) {\n    if (!courseData.success) {\n      console.error(`The following errors were encountered:\\nError -> ${courseData.error}\\n`);\n      return (\n        <PageError errorMessage={`The following errors were encountered:\\nError -> ${courseData.error}\\n`} />\n      );\n    }\n    return (\n      <PageError errorMessage=\"Oops! Something went wrong\" />\n    );\n  }\n\n\n\n  return (\n    <Container>\n      <Col className=\"align-items-center\">\n        <Row style={{ paddingTop: '10px' }}>\n          <h1 className=\"header1-design\">Educative Courses List</h1>\n        </Row>\n        <Row style={{ paddingTop: '20px', paddingBottom: '20px' }}>\n          <CardList data={courseData} type=\"course\" setField={setField} setTitle={setTitle} setUrl={setUrl} setImgUrl={setImgUrl} setId={setId} />\n        </Row>\n        <hr style={{ color: '#ffffff' }} />\n        <Row style={{ paddingTop: '10px' }}>\n          <h1 className=\"header1-design\">Add a Course</h1>\n        </Row>\n        <Row style={{ paddingTop: '20px' }}>\n          <NewCourseForm\n            setField={setField}\n            setTitle={setTitle}\n            setUrl={setUrl}\n            setImgUrl={setImgUrl}\n            setId={setId}\n          />\n        </Row>\n      </Col>\n    </Container>\n  );\n}"],"mappings":"iJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CACjD,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,OAAO,KAAM,mBAAmB,CACvC,MAAO,CAAAC,QAAQ,KAAM,mBAAmB,CACxC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CACjC,IAAAC,SAAA,CAA0Bd,QAAQ,CAAC,YAAY,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAA0BnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAsBvB,QAAQ,CAAC,EAAE,CAAC,CAAAwB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA3BE,GAAG,CAAAD,UAAA,IAAEE,MAAM,CAAAF,UAAA,IAClB,IAAAG,UAAA,CAA4B3B,QAAQ,CAAC,EAAE,CAAC,CAAA4B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAoB/B,QAAQ,CAAC,EAAE,CAAC,CAAAgC,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAzBE,EAAE,CAAAD,WAAA,IAAEE,KAAK,CAAAF,WAAA,IAEhB,GAAM,CAAAG,WAAW,CAAG,CAClBF,EAAE,IAAAG,MAAA,CAAKH,EAAE,CAAE,CACXI,UAAU,IAAAD,MAAA,CAAKf,KAAK,CAAE,CACtBiB,SAAS,IAAAF,MAAA,CAAMX,GAAG,CAAE,CACpBc,QAAQ,IAAAH,MAAA,CAAKP,MAAM,CACrB,CAAC,CAED;AACA,IAAAW,SAAA,CAIIlC,QAAQ,CACVW,KAAK,CACLwB,IAAI,CAACC,SAAS,CAACP,WAAW,CAC5B,CAAC,CANOQ,UAAU,CAAAH,SAAA,CAAhBI,IAAI,CACKC,WAAW,CAAAL,SAAA,CAApBM,OAAO,CACEC,WAAW,CAAAP,SAAA,CAApBQ,OAAO,CAMTC,OAAO,CAACC,GAAG,CAACH,WAAW,CAAC,CAExB;AACA;AACAhD,SAAS,CAAC,UAAM,CACd,GAAI,CAACgD,WAAW,EAAI9B,KAAK,GAAK,YAAY,CAAE,CAC1CC,QAAQ,CAAC,YAAY,CAAC,CACtBI,QAAQ,CAAC,EAAE,CAAC,CACZI,MAAM,CAAC,EAAE,CAAC,CACVI,SAAS,CAAC,EAAE,CAAC,CACbI,KAAK,CAAC,EAAE,CAAC,CACX,CACF,CAAC,CAAE,CAACa,WAAW,CAAC,CAAC,CAEjB,GAAIA,WAAW,CAAE,CACf,mBACErC,IAAA,CAACL,OAAO,GAAE,CAAC,CAEf,CAEA,GAAI,CAAEwC,WAAY,CAAE,CAClB,GAAI,CAACF,UAAU,CAACG,OAAO,CAAE,CACvBG,OAAO,CAACE,KAAK,qDAAAf,MAAA,CAAqDO,UAAU,CAACQ,KAAK,MAAI,CAAC,CACvF,mBACEzC,IAAA,CAACN,SAAS,EAACgD,YAAY,qDAAAhB,MAAA,CAAsDO,UAAU,CAACQ,KAAK,MAAK,CAAE,CAAC,CAEzG,CACA,mBACEzC,IAAA,CAACN,SAAS,EAACgD,YAAY,CAAC,4BAA4B,CAAE,CAAC,CAE3D,CAIA,mBACE1C,IAAA,CAACT,SAAS,EAAAoD,QAAA,cACRzC,KAAA,CAACT,GAAG,EAACmD,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjC3C,IAAA,CAACR,GAAG,EAACqD,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAH,QAAA,cACjC3C,IAAA,OAAI4C,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,wBAAsB,CAAI,CAAC,CACvD,CAAC,cACN3C,IAAA,CAACR,GAAG,EAACqD,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAM,CAAEC,aAAa,CAAE,MAAO,CAAE,CAAAJ,QAAA,cACxD3C,IAAA,CAACH,QAAQ,EAACqC,IAAI,CAAED,UAAW,CAACe,IAAI,CAAC,QAAQ,CAACxC,QAAQ,CAAEA,QAAS,CAACI,QAAQ,CAAEA,QAAS,CAACI,MAAM,CAAEA,MAAO,CAACI,SAAS,CAAEA,SAAU,CAACI,KAAK,CAAEA,KAAM,CAAE,CAAC,CACrI,CAAC,cACNxB,IAAA,OAAI6C,KAAK,CAAE,CAAEI,KAAK,CAAE,SAAU,CAAE,CAAE,CAAC,cACnCjD,IAAA,CAACR,GAAG,EAACqD,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAH,QAAA,cACjC3C,IAAA,OAAI4C,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,cAAY,CAAI,CAAC,CAC7C,CAAC,cACN3C,IAAA,CAACR,GAAG,EAACqD,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAH,QAAA,cACjC3C,IAAA,CAACF,aAAa,EACZU,QAAQ,CAAEA,QAAS,CACnBI,QAAQ,CAAEA,QAAS,CACnBI,MAAM,CAAEA,MAAO,CACfI,SAAS,CAAEA,SAAU,CACrBI,KAAK,CAAEA,KAAM,CACd,CAAC,CACC,CAAC,EACH,CAAC,CACG,CAAC,CAEhB"},"metadata":{},"sourceType":"module","externalDependencies":[]}