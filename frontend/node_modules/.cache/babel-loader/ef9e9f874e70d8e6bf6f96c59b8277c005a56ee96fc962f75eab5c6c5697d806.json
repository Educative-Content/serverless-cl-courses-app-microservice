{"ast":null,"code":"var _jsxFileName = \"/Users/Zainab/Desktop/MicroservicesLab/CRUDCourses/frontend/crud-courses/src/components/HomePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport PageError from './errorPages/PageError';\nimport Loading from './loading/Loading';\nimport useFetch from '../hooks/useFetch';\nimport CardList from './CardList';\nimport NewCourseForm from './NewCourseForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomePage() {\n  _s();\n  const [field, setField] = useState('allCourses');\n  const [title, setTitle] = useState('');\n  const [url, setUrl] = useState('');\n  const [imgUrl, setImgUrl] = useState('');\n  const [author, setAuthor] = useState('');\n  const [id, setId] = useState('');\n  const queryParams = {\n    id: `${id}`,\n    courseTitle: `${title}`,\n    courseUrl: `${url}`,\n    imgUrl: `${imgUrl}`,\n    courseAuthor: `${author}`\n  };\n\n  // Initializing API Call with a useFetch function\n  const {\n    data: courseData,\n    success: callSuccess,\n    loading: callLoading\n  } = useFetch(field, JSON.stringify(queryParams));\n  console.log(callLoading);\n\n  // Function to re-update GraphQL query parameters fetch list of courses\n  // when either a course had been added, edited, or deleted\n  useEffect(() => {\n    if (!callLoading && field !== 'allCourses') {\n      setField('allCourses');\n      setTitle('');\n      setUrl('');\n      setImgUrl('');\n      setAuthor('');\n      setId('');\n    }\n  }, [callLoading]);\n  if (callLoading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n  console.log(courseData);\n  if (!callSuccess) {\n    if (!courseData.success) {\n      console.error(`The following errors were encountered:\\nError -> ${courseData.error}\\n`);\n      return /*#__PURE__*/_jsxDEV(PageError, {\n        errorMessage: `The following errors were encountered:\\nError -> ${courseData.error}\\n`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(PageError, {\n      errorMessage: \"Oops! Something went wrong\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Col, {\n      className: \"align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          paddingTop: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"header1-design\",\n          children: \"Educative Courses List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          paddingTop: '20px',\n          paddingBottom: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(CardList, {\n          data: courseData,\n          type: \"course\",\n          setField: setField,\n          setTitle: setTitle,\n          setUrl: setUrl,\n          setImgUrl: setImgUrl,\n          setAuthor: setAuthor,\n          setId: setId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        style: {\n          color: '#ffffff'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          paddingTop: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"header1-design\",\n          children: \"Add a Course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          paddingTop: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(NewCourseForm, {\n          setField: setField,\n          setTitle: setTitle,\n          setUrl: setUrl,\n          setImgUrl: setImgUrl,\n          setAuthor: setAuthor,\n          setId: setId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"QwLy05bLedB2OP+l2WTvD/pPsmg=\", false, function () {\n  return [useFetch];\n});\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","Container","Row","Col","PageError","Loading","useFetch","CardList","NewCourseForm","jsxDEV","_jsxDEV","HomePage","_s","field","setField","title","setTitle","url","setUrl","imgUrl","setImgUrl","author","setAuthor","id","setId","queryParams","courseTitle","courseUrl","courseAuthor","data","courseData","success","callSuccess","loading","callLoading","JSON","stringify","console","log","fileName","_jsxFileName","lineNumber","columnNumber","error","errorMessage","children","className","style","paddingTop","paddingBottom","type","color","_c","$RefreshReg$"],"sources":["/Users/Zainab/Desktop/MicroservicesLab/CRUDCourses/frontend/crud-courses/src/components/HomePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport PageError from './errorPages/PageError';\nimport Loading from './loading/Loading';\nimport useFetch from '../hooks/useFetch';\nimport CardList from './CardList';\nimport NewCourseForm from './NewCourseForm';\n\nexport default function HomePage() {\n  const [field, setField] = useState('allCourses');\n  const [title, setTitle] = useState('');\n  const [url, setUrl] = useState('');\n  const [imgUrl, setImgUrl] = useState('');\n  const [author, setAuthor] = useState('');\n  const [id, setId] = useState('');\n\n  const queryParams = {\n    id: `${id}`,\n    courseTitle: `${title}`,\n    courseUrl: `${url}`,\n    imgUrl: `${imgUrl}`,\n    courseAuthor: `${author}`,\n  };\n\n  // Initializing API Call with a useFetch function\n  const {\n    data: courseData,\n    success: callSuccess,\n    loading: callLoading,\n  } = useFetch(\n    field,\n    JSON.stringify(queryParams),\n  );\n\n  console.log(callLoading)\n\n  // Function to re-update GraphQL query parameters fetch list of courses\n  // when either a course had been added, edited, or deleted\n  useEffect(() => {\n    if (!callLoading && field !== 'allCourses') {\n      setField('allCourses');\n      setTitle('');\n      setUrl('');\n      setImgUrl('');\n      setAuthor('');\n      setId('');\n    }\n  }, [callLoading]);\n\n  if (callLoading) {\n    return (\n      <Loading />\n    );\n  }\n\n  console.log(courseData)\n\n  if (!(callSuccess)) {\n    if (!courseData.success) {\n      console.error(`The following errors were encountered:\\nError -> ${courseData.error}\\n`);\n      return (\n        <PageError errorMessage={`The following errors were encountered:\\nError -> ${courseData.error}\\n`} />\n      );\n    }\n    return (\n      <PageError errorMessage=\"Oops! Something went wrong\" />\n    );\n  }\n\n\n\n  return (\n    <Container>\n      <Col className=\"align-items-center\">\n        <Row style={{ paddingTop: '10px' }}>\n          <h1 className=\"header1-design\">Educative Courses List</h1>\n        </Row>\n        <Row style={{ paddingTop: '20px', paddingBottom: '20px' }}>\n          <CardList data={courseData} type=\"course\" setField={setField} setTitle={setTitle} setUrl={setUrl} setImgUrl={setImgUrl} setAuthor={setAuthor} setId={setId} />\n        </Row>\n        <hr style={{ color: '#ffffff' }} />\n        <Row style={{ paddingTop: '10px' }}>\n          <h1 className=\"header1-design\">Add a Course</h1>\n        </Row>\n        <Row style={{ paddingTop: '20px' }}>\n          <NewCourseForm\n            setField={setField}\n            setTitle={setTitle}\n            setUrl={setUrl}\n            setImgUrl={setImgUrl}\n            setAuthor={setAuthor}\n            setId={setId}\n          />\n        </Row>\n      </Col>\n    </Container>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}